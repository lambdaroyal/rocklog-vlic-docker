% SID Label with location
%
% Author gixxi
\documentclass{article}
\usepackage[paperwidth=10.5cm, paperheight=7.4cm, margin=0in]{geometry}
\usepackage[ngerman]{babel}
\usepackage[utf8]{inputenc}
\inputencoding{utf8}
\usepackage{graphicx, lipsum, showexpl, color, blindtext, array, tabu, tikz, truncate}
\usepackage{pst-barcode,pstricks}
\usepackage{eso-pic, rotating}
\usepackage{pifont}
\pagenumbering{gobble}
\renewcommand{\familydefault}{\sfdefault}
\newcommand*\sepline{%
  \begin{center}
    \rule[1ex]{1\paperwidth}{.5pt}
\end{center}}

% Background image
\newcommand{\URCornerWallPaper}[2]{%
  \AddToShipoutPicture{%
    \AtPageLowerLeft{%
      \parbox[b][\paperheight]{0.97\paperwidth}{%       
        \hfill \includegraphics[width=#1\paperwidth,height=#1\paperheight,%
          keepaspectratio]{#2}%
        \vfill%
      }
    }
  }
}

\newcommand{\DataMatrix}[0]{%
  \AddToShipoutPicture{%
    \put(\LenToUnit{0.705\paperwidth},\LenToUnit{0.20\paperheight}){
          \begin{pspicture}(1.6in,1.6in)
            \psbarcode{!datamatrix-raw!}{rows=40 columns=40 raw}{datamatrix}
          \end{pspicture}
    }
  }
}

% Version/Report Info
\newcommand{\VersionInfo}[0]{%
  \AddToShipoutPicture{%
    \AtPageLowerLeft{%
      \parbox[b][\paperheight]{\paperwidth}{%       
        \hfill 
        \rotatebox{90}{
          {\scriptsize !version!/!report!}
        }
        \vfill%
      }
    }
  }
}

\begin{document}
\URCornerWallPaper{0.3}{../images/rocklog_logo_plain.eps}
\VersionInfo
\DataMatrix
\psset{unit=1in}
\begin{minipage}[t][1\paperheight][t]{\paperwidth}
  \begin{tabu} to \paperwidth { X[0.8] X X X[1.5] }
    \\
    % Address
    \multicolumn{4}{l}{
      {\huge !company-name!}
    } \\
    \multicolumn{4}{l}{
      {\normalsize !company-address!}
    } \\
    \\
    
    % Article
    \multicolumn{4}{l}{
      {\huge {\truncate{10cm}{!article-no! !article-name!}}}
    } \\
    
    % Amount % Dispatch Unit
    {\scriptsize Amount:} &      
      {\Large \truncate{2.8cm}{!amount! !uom!}} &
      {\normalsize \truncate{2.8cm}{\ding{41} !dispatchunit!}} & \\

    % Best Before | Amount
    {\scriptsize Best Before:} & \multicolumn{2}{l}{{\huge !bestbefore!}} &\\
    
    % Inbound Date | UOM
    {\scriptsize Inbound:} & \multicolumn{2}{l}{{\huge !inbounddate!}} & \\

    % Batch | Datamatrix
    {\scriptsize Batch:} & \multicolumn{2}{l}{{\Large !batch!}} & \\
    
    % SID / Location
    {\scriptsize SID:} & {\scriptsize Location:} & & \\
    \multicolumn{4}{l}{
      {\Large !sid-prefix!}{\Huge !sid-suffix!} {\Large !location!}
    } \\ \\ 
                
                {\smallsize } & {\smallsize } & &
                  {\textcolor{gray}{\Large{\ding{108}}}}{\Large !checkdigit0!}
                \\
                \multicolumn{2}{1}{
                  \begin{pspicture}(2,0.1)
                    \psbarcode{!sid!}{includetext height=0.4}{code128}
                  \end{pspicture}
                } & &
                {\textcolor{gray}{\Large{\ding{110}}}}{\Large !checkdigit1!}
  \end{tabu}
\end{minipage}
\end{document}
